\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{style}[2017/04/15 Das Kapital style]

%% styling
\setlength{\skip\footinsZ}{0pt}
\setlength{\footmarkwidth}{-0.5em}
\setlength{\footmarksep}{-\footmarkwidth}

%% styling
\setlength{\parskip}{0em}

%% grid
\newlength{\defindent}
\setlength{\defindent}{\parindent}

%% pagestyle
\newlength{\narrowtext}
\setlength{\narrowtext}{\textwidth - 2\defindent}

%% format plain
\makerunningwidth{plain}{\narrowtext}
\makeevenfoot{plain}{\footnotesize\sffamily\thepage}{}{}
\makeoddfoot{plain}{}{}{\footnotesize\sffamily\thepage}

\copypagestyle{mypage}{plain}

\makepsmarks{mypage}{%
  \nouppercaseheads
  \clearmark{part}
  \clearmark{chapter}
  \clearmark{section}
  \createmark{part}{left}{shownumber}{\partname\ }{. }
  \createmark{chapter}{right}{shownumber}{\@chapapp\ }{. }
  \createplainmark{toc}{both}{\contentsname}
  \createplainmark{lof}{both}{\listfigurename}
  \createplainmark{lot}{both}{\listtablename}
  \createplainmark{bib}{both}{\bibname}
  \createplainmark{index}{both}{\indexname}
  \createplainmark{glossary}{both}{\glossaryname}
}

\makeevenhead{mypage}{\footnotesize\sffamily\leftmark}{}{}
\makeoddhead{mypage}{}{}{\footnotesize\sffamily\rightmark}

\pagestyle{mypage}

\aliaspagestyle{part}{empty}

%% Viddil

%\renewcommand*{\beforepartskip}{50pt}
%\renewcommand*{\midpartskip}{10pt}

\renewcommand{\partnamefont}{\large\sffamily\raggedright}
\renewcommand{\partnumfont}{\large\sffamily}
\renewcommand{\parttitlefont}{\Huge\bfseries\sffamily\raggedright}

%% Rozdil

\makechapterstyle{default}{%
  \renewcommand*{\chapnumfont}{\large\sffamily}
  \renewcommand*{\chapnamefont}{\large\sffamily}
  \renewcommand*{\chaptitlefont}{\huge\bfseries\sffamily}
  \setlength{\beforechapskip}{0pt}
  \setlength{\midchapskip}{10pt}
  \setlength{\afterchapskip}{50pt}
}
\chapterstyle{default}


\setsecheadstyle{\Large\bfseries\sffamily\raggedright}

\setsubsecheadstyle{\large\bfseries\sffamily\raggedright}

\setsubsubsecheadstyle{\bfseries\sffamily\raggedright}

\setparaheadstyle{\bfseries\raggedright}
\setafterparaskip{1.5ex plus 1ex minus .2ex}

\setsecnumformat{\makebox[\defindent][r]{\csname the#1\endcsname~}}

\endinput